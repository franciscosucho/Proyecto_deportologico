<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Mental Strong</title>
    <link rel="stylesheet" href="css/estilo.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="shortcut icon" href="../public/resources/mental-strong.ico" type="image/x-icon">
</head>

<body>
    <main>
        <section id="ventana_prin">
            <aside id="menu_lateral">
                <%- include('menu.ejs') %>
            </aside>
            <section id="main_recetas">
                <h2 id="nombre_us">Asesoramiento</h2>
                <h3 id="subtitulo">Lista de Expertos Disponibles</h3>
                <div class="contenedor_profesional">
                    <% results.forEach(profesional=> { %>
                        <div class="card">
                            <img src="/resources/img_entrenadores/<%- profesional.url %>">

                            <h3 class="nombre_profesional"><%- profesional.Nombre %> <%- profesional.Apellido %></h3>
                            <p class="profesion"><%- profesional.Profesion %></p>
                            <div class="botones">
                                <button class="more-info" data-prof-id="<%- profesional.ID%>">Más Información</button>
                            </div>
                            <div class="desac info-extra" id="info-<%- profesional.ID%>">
                                <p><b>Email: </b><%- profesional.Email %>.</p>
                                <p><b>Numero: </b><%- profesional.Numero %>.</p>
                                <p><b>Descripción: </b><%- profesional.Descripcion %>.</p>
                            </div>
                        </div>
                        <% }) %>
                </div>
            </section>
        </section>
    </main>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const moreInfoButtons = document.querySelectorAll(".more-info");

            moreInfoButtons.forEach(button => {
                button.addEventListener("click", () => {
                    const profId = button.getAttribute("data-prof-id");
                    const infoDiv = document.getElementById(`info-${profId}`);

                    // Oculta toda la información extra visible
                    document.querySelectorAll(".info-extra").forEach(div => {
                        if (div !== infoDiv) {
                            div.classList.add("desac");     
                        }
                    });

                    // Alterna la visibilidad del contenedor de información seleccionado
                    if (infoDiv) {
                        infoDiv.classList.toggle("desac");
                    }
                });
            });
        });

    </script>
</body>

</html>